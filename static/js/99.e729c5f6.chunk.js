"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[99],{166:function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}n.d(e,{Z:function(){return d}});var l=n(791),f=n(519),p=n(184),d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(u,t);var e,n,a,i=s(u);function u(){var t;r(this,u);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))).state={error:!1},t}return e=u,(n=[{key:"componentDidCatch",value:function(t,e){console.log(t,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,p.jsx)(f.Z,{}):this.props.children}}])&&o(e.prototype,n),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),u}(l.Component)},519:function(t,e,n){var r=n(392),o=n(184);e.Z=function(){return(0,o.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFir:"contain",margin:"0 auto"},src:r,alt:"Error"})}},99:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(166),o=n(982),c=n(885),a=n(791),i=n(504),u=n(304),s=n(519),l=n(394),f=n(184),p=function(){var t=(0,a.useState)([]),e=(0,c.Z)(t,2),n=e[0],r=e[1],p=(0,a.useState)(0),d=(0,c.Z)(p,2),m=d[0],h=d[1],b=(0,a.useState)(!1),y=(0,c.Z)(b,2),v=y[0],g=y[1],x=(0,a.useState)(!1),j=(0,c.Z)(x,2),w=j[0],_=j[1],Z=(0,u.Z)(),k=Z.loading,C=Z.error,S=Z.getAllComics;(0,a.useEffect)((function(){O(m,!0)}),[]);var O=function(t,e){_(!e),S(t).then(N)},N=function(t){var e=!1;t.length<8&&(e=!0),_(!1),r([].concat((0,o.Z)(n),(0,o.Z)(t))),h((function(t){return t+8})),g(e)};var E=function(t){var e=t.map((function(t){return(0,f.jsx)("li",{className:"comics__item",children:(0,f.jsxs)(i.rU,{to:"/comics/".concat(t.id),children:[(0,f.jsx)("img",{src:t.thumbnail,alt:t.title,className:"comics__item-img"}),(0,f.jsx)("div",{className:"comics__item-name",children:t.title}),(0,f.jsx)("div",{className:"comics__item-price",children:t.price})]})},t.id)}));return(0,f.jsx)("ul",{className:"comics__grid",children:e})}(n),A=k&&!w?(0,f.jsx)(l.Z,{}):null,P=C?(0,f.jsx)(s.Z,{}):null;return(0,f.jsxs)("div",{className:"comics__list",children:[A,P,E,(0,f.jsx)("button",{className:"button button__main button__long",onClick:function(){return O(m)},style:v?{display:"none"}:{display:"block"},disabled:w,children:(0,f.jsx)("div",{className:"inner",children:"load more"})})]})},d=n(387),m=n(415),h=function(){return(0,f.jsxs)("div",{className:"app__banner",children:[(0,f.jsx)("img",{src:d,alt:"Avengers"}),(0,f.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,f.jsx)("br",{}),"Stay tuned!"]}),(0,f.jsx)("img",{src:m,alt:"Avengers logo"})]})},b=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h,{}),(0,f.jsx)(r.Z,{children:(0,f.jsx)(p,{})})]})}},304:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(861),o=n(757),c=n.n(o),a=n(885),i=n(791),u=function(){var t=function(){var t=(0,i.useState)(!1),e=(0,a.Z)(t,2),n=e[0],o=e[1],u=(0,i.useState)(null),s=(0,a.Z)(u,2),l=s[0],f=s[1],p=(0,i.useCallback)(function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a,i,u,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",r=s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]?s[3]:{"Content-type":"application/json"},o(!0),t.prev=4,t.next=7,fetch(e,{method:n,body:r,headers:a});case 7:return i=t.sent,t.next=10,i.json();case 10:if(u=t.sent,i.ok){t.next=13;break}throw new Error("Couldn't fetch ".concat(e,", status: ").concat(i.status));case 13:return o(!1),t.abrupt("return",u);case 17:throw t.prev=17,t.t0=t.catch(4),o(!1),f(t.t0.message),t.t0;case 22:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}(),[]);return{loading:n,request:p,error:l,clearError:(0,i.useCallback)((function(){return f(null)}),[])}}(),e=t.loading,n=t.error,o=t.request,u=t.clearError,s="https://gateway.marvel.com:443/v1/public/",l="apikey=b1ee04d358e33edb238945fb86acb66e",f=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:210,t.next=3,o("".concat(s,"characters?limit=9&offset=").concat(e,"&").concat(l));case 3:return n=t.sent,t.abrupt("return",n.data.results.map(h));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("".concat(s,"characters/").concat(e,"?").concat(l));case 2:return n=t.sent,t.abrupt("return",h(n.data.results[0]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:0,t.next=3,o("".concat(s,"comics?orderBy=issueNumber&limit=8&offset=").concat(e,"&").concat(l));case 3:return n=t.sent,t.abrupt("return",n.data.results.map(b));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("".concat(s,"comics/").concat(e,"?").concat(l));case 2:return n=t.sent,t.abrupt("return",b(n.data.results[0]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(t){return{id:t.id,name:t.name,description:t.description?"".concat(t.description.slice(0,210),"..."):"Sorry, but did not find any information about this character yet(",thumbnail:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),homepage:t.urls[0].url,comics:t.comics.items}},b=function(t){return{id:t.id,title:t.title,description:t.description||"There is no description",pageCount:t.pageCount?"".concat(t.pageCount," p."):"No information about the number of pages",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:t.textObjects.language||"en-us",price:t.prices.price?"".concat(t.prices.price,"$"):"not available",homepage:t.urls[0].url}};return{loading:e,error:n,getAllCharacters:f,getCharacter:p,clearError:u,getAllComics:d,getComic:m}}},392:function(t,e,n){t.exports=n.p+"static/media/error.42292aa12b6bc303ce99.gif"},387:function(t,e,n){t.exports=n.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png"},415:function(t,e,n){t.exports=n.p+"static/media/Avengers_logo.9eaf219344d83362e830.png"},982:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(907);var o=n(181);function c(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=99.e729c5f6.chunk.js.map