"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[696],{166:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}n.d(t,{Z:function(){return f}});var u=n(791),h=n(519),d=n(184),f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,n,i,o=l(s);function s(){var e;r(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=o.call.apply(o,[this].concat(n))).state={error:!1},e}return t=s,(n=[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,d.jsx)(h.Z,{}):this.props.children}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(u.Component)},519:function(e,t,n){var r=n(392),a=n(184);t.Z=function(){return(0,a.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFir:"contain",margin:"0 auto"},src:r,alt:"Error"})}},696:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(885),a=n(791),c=n(304),i=n(394),o=n(519),s=n(280),l=n(184),u=function(e){var t=e.char,n=t.name,r=t.description,a=t.thumbnail,c=t.homepage,i=t.wiki,o="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a||"http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif"===a?{objectFit:"fill"}:{objectFit:"cover"};return(0,l.jsxs)("div",{className:"randomchar__block",children:[(0,l.jsx)("img",{src:a,style:o,alt:"Random character",className:"randomchar__img"}),(0,l.jsxs)("div",{className:"randomchar__info",children:[(0,l.jsx)("p",{className:"randomchar__name",children:n}),(0,l.jsx)("p",{className:"randomchar__descr",children:r}),(0,l.jsxs)("div",{className:"randomchar__btns",children:[(0,l.jsx)("a",{href:c,className:"button button__main",children:(0,l.jsx)("div",{className:"inner",children:"homepage"})}),(0,l.jsx)("a",{href:i,className:"button button__secondary",children:(0,l.jsx)("div",{className:"inner",children:"wiki"})})]})]})]})},h=function(){var e=(0,a.useState)({}),t=(0,r.Z)(e,2),n=t[0],h=t[1],d=(0,c.Z)(),f=d.loading,m=d.error,p=d.getCharacter,v=d.clearError;(0,a.useEffect)((function(){j();var e=setInterval(j,1e4);return function(){return clearInterval(e)}}),[]);var b=function(e){h(e)},j=function(){v();var e=Math.floor(400*Math.random()+1011e3);p(e).then(b)},_=f?(0,l.jsx)(i.Z,{}):null,x=m?(0,l.jsx)(o.Z,{}):null,y=f||m?null:(0,l.jsx)(u,{char:n});return(0,l.jsxs)("div",{className:"randomchar",children:[_,x,y,(0,l.jsxs)("div",{className:"randomchar__static",children:[(0,l.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,l.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,l.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,l.jsx)("button",{className:"button button__main",children:(0,l.jsx)("div",{className:"inner",onClick:j,children:"try it"})}),(0,l.jsx)("img",{src:s,alt:"mjolnir",className:"randomchar__decoration"})]})]})},d=n(982),f=function(e){var t=(0,a.useState)([]),n=(0,r.Z)(t,2),s=n[0],u=n[1],h=(0,a.useState)(210),f=(0,r.Z)(h,2),m=f[0],p=f[1],v=(0,a.useState)(!1),b=(0,r.Z)(v,2),j=b[0],_=b[1],x=(0,a.useState)(!1),y=(0,r.Z)(x,2),g=y[0],N=y[1],k=(0,c.Z)(),w=k.loading,Z=k.error,C=k.getAllCharacters;(0,a.useEffect)((function(){S(m,!0)}),[]);var S=function(e,t){_(!t),C(e).then(E)},E=function(e){var t=!1;e.length<9&&(t=!0),p((function(e){return e+9})),u([].concat((0,d.Z)(s),(0,d.Z)(e))),_(!1),N((function(e){return t}))},O=(0,a.useRef)([]),F=function(e){O.current.forEach((function(e){return e.classList.remove("char__item_selected")})),O.current[e].classList.add("char__item_selected"),O.current[e].focus()};var P=function(t){var n=t.map((function(t,n){var r=t.id,a=t.thumbnail,c=t.name,i={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"!==a&&"http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif"!==a||(i={objectFit:"unset"}),(0,l.jsxs)("li",{className:"char__item",tabIndex:0,ref:function(e){return O.current[n]=e},onClick:function(){e.onCharSelected(r),F(n)},onKeyPress:function(t){" "!==t.key&&"Enter"!==t.key||(e.onCharSelected(r),F(n))},children:[(0,l.jsx)("img",{src:a,style:i,alt:c}),(0,l.jsx)("div",{className:"char__name",children:c})]},r)}));return(0,l.jsx)("ul",{className:"char__grid",children:n})}(s),R=Z?(0,l.jsx)(o.Z,{}):null,I=w&&!j?(0,l.jsx)(i.Z,{}):null;return(0,l.jsxs)("div",{className:"char__list",children:[I,R,P,(0,l.jsx)("button",{className:"button button__main button__long",style:g?{display:"none"}:{display:"block"},onClick:function(){return S(m)},disabled:j,children:(0,l.jsx)("div",{className:"inner",children:"load more"})})]})},m=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,l.jsxs)("div",{className:"skeleton",children:[(0,l.jsxs)("div",{className:"pulse skeleton__header",children:[(0,l.jsx)("div",{className:"pulse skeleton__circle"}),(0,l.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,l.jsx)("div",{className:"pulse skeleton__block"}),(0,l.jsx)("div",{className:"pulse skeleton__block"}),(0,l.jsx)("div",{className:"pulse skeleton__block"})]})]})},p=function(e){var t=e.char,n=t.name,r=t.thumbnail,a=t.wiki,c=t.homepage,i=t.description,o=t.comics,s="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r||"http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif"===r?{objectFit:"fill"}:{objectFit:"cover"},u=o.map((function(e,t){return(0,l.jsx)("li",{className:"char__comics-item",style:s,children:e.name},t)}));return u.length>10?u.length=10:0===u.length&&(u="Sorry, we had not find any comics with this character yet ;("),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"char__basics",children:[(0,l.jsx)("img",{src:r,alt:n}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"char__info-name",children:n}),(0,l.jsxs)("div",{className:"char__btns",children:[(0,l.jsx)("a",{href:c,className:"button button__main",children:(0,l.jsx)("div",{className:"inner",children:"homepage"})}),(0,l.jsx)("a",{href:a,className:"button button__secondary",children:(0,l.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,l.jsx)("div",{className:"char__descr",children:i}),(0,l.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,l.jsx)("ul",{className:"char__comics-list",children:u})]})},v=function(e){var t=(0,a.useState)(null),n=(0,r.Z)(t,2),s=n[0],u=n[1],h=(0,c.Z)(),d=h.loading,f=h.error,v=h.getCharacter,b=h.clearError;(0,a.useEffect)((function(){j()}),[e.charId]);var j=function(){var t=e.charId;t&&(b(),v(t).then(_))},_=function(e){u(e)},x=d||f||s?null:(0,l.jsx)(m,{}),y=d?(0,l.jsx)(i.Z,{}):null,g=f?(0,l.jsx)(o.Z,{}):null,N=d||f||!s?null:(0,l.jsx)(p,{char:s});return(0,l.jsxs)("div",{className:"char__info",children:[x,y,g,N]})},b=n(166),j=n(610),_=function(){var e=(0,a.useState)(null),t=(0,r.Z)(e,2),n=t[0],c=t[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z,{children:(0,l.jsx)(h,{})}),(0,l.jsxs)("div",{className:"char__content",children:[(0,l.jsx)(b.Z,{children:(0,l.jsx)(f,{onCharSelected:function(e){c(e)}})}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(v,{charId:n})})]}),(0,l.jsx)("img",{className:"bg-decoration",src:j,alt:"vision"})]})}},304:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(861),a=n(757),c=n.n(a),i=n(885),o=n(791),s=function(){var e=function(){var e=(0,o.useState)(!1),t=(0,i.Z)(e,2),n=t[0],a=t[1],s=(0,o.useState)(null),l=(0,i.Z)(s,2),u=l[0],h=l[1],d=(0,o.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,i,o,s,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",r=l.length>2&&void 0!==l[2]?l[2]:null,i=l.length>3&&void 0!==l[3]?l[3]:{"Content-type":"application/json"},a(!0),e.prev=4,e.next=7,fetch(t,{method:n,body:r,headers:i});case 7:return o=e.sent,e.next=10,o.json();case 10:if(s=e.sent,o.ok){e.next=13;break}throw new Error("Couldn't fetch ".concat(t,", status: ").concat(o.status));case 13:return a(!1),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(4),a(!1),h(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:n,request:d,error:u,clearError:(0,o.useCallback)((function(){return h(null)}),[])}}(),t=e.loading,n=e.error,a=e.request,s=e.clearError,l="https://gateway.marvel.com:443/v1/public/",u="apikey=b1ee04d358e33edb238945fb86acb66e",h=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:210,e.next=3,a("".concat(l,"characters?limit=9&offset=").concat(t,"&").concat(u));case 3:return n=e.sent,e.abrupt("return",n.data.results.map(p));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("".concat(l,"characters/").concat(t,"?").concat(u));case 2:return n=e.sent,e.abrupt("return",p(n.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.next=3,a("".concat(l,"comics?orderBy=issueNumber&limit=8&offset=").concat(t,"&").concat(u));case 3:return n=e.sent,e.abrupt("return",n.data.results.map(v));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("".concat(l,"comics/").concat(t,"?").concat(u));case 2:return n=e.sent,e.abrupt("return",v(n.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return{id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,210),"..."):"Sorry, but did not find any information about this character yet(",thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),homepage:e.urls[0].url,comics:e.comics.items}},v=function(e){return{id:e.id,title:e.title,description:e.description||"There is no description",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,language:e.textObjects.language||"en-us",price:e.prices.price?"".concat(e.prices.price,"$"):"not available",homepage:e.urls[0].url}};return{loading:t,error:n,getAllCharacters:h,getCharacter:d,clearError:s,getAllComics:f,getComic:m}}},392:function(e,t,n){e.exports=n.p+"static/media/error.42292aa12b6bc303ce99.gif"},280:function(e,t,n){e.exports=n.p+"static/media/mjolnir.61f31e1809f12183a524.png"},610:function(e,t,n){e.exports=n.p+"static/media/vision.067d4ae1936d64a577ce.png"},982:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(907);var a=n(181);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=696.73cc089b.chunk.js.map